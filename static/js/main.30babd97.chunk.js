(this["webpackJsonpcinema-task"]=this["webpackJsonpcinema-task"]||[]).push([[0],{16:function(e,t,n){e.exports={wrapper:"Film_wrapper__3Py3w",header:"Film_header__3d35g",inner:"Film_inner__3QU9s",img:"Film_img__1AY8H",title:"Film_title__2rVkS",info:"Film_info__8z09H",rating:"Film_rating__2-HnB",globe:"Film_globe__2HEXp",awards:"Film_awards__1X12w",linkTo:"Film_linkTo__3BgX6"}},17:function(e,t,n){e.exports={wrapper:"Similar_wrapper___VRE8",open:"Similar_open__3Khw-",toggle:"Similar_toggle__2skGv",rating:"Similar_rating__3HIhw",active:"Similar_active__1IBdQ"}},46:function(e,t,n){},47:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),i=n.n(c),s=(n(46),n(47),n(23)),l=n(41),o=n(13),j=n(5),h=n(9),d=n.n(h),b=n(39),u=n.n(b).a.create({baseURL:"https://imdb8.p.rapidapi.com/",headers:{"x-rapidapi-key":"edd4ccf948mshd809ebd86c1ea13p103127jsnec223d55dda7","x-rapidapi-host":"imdb8.p.rapidapi.com"},method:"GET"}),p={getFilmsByName:function(e){return u.request({url:"title/auto-complete",params:{q:e}}).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},getOverviewDetails:function(e){return u.request({url:"title/get-overview-details",params:{tconst:e}}).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},getRatings:function(e){return u.request({url:"title/get-awards",params:{tconst:e}}).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},getVideos:function(e){return u.request({url:"title/get-videos",params:{tconst:e}}).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},getImages:function(e){return u.request({url:"title/get-images",params:{tconst:e}}).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},getPlots:function(e){return u.request({url:"title/get-plots",params:{tconst:e}}).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},getSimilar:function(e){return u.request({url:"title/get-more-like-this",params:{tconst:e}}).then((function(e){return e.data.length>4?e.data.slice(0,4):e.data})).catch((function(e){return console.error(e)}))}},m=n(15),g=n(16),_=n.n(g),f=n(1),O=function(e){var t;return t=e.i?e.i.imageUrl:"https://bytes.ua/wp-content/uploads/2017/08/no-image.png",Object(f.jsxs)("div",{className:_.a.wrapper,children:[Object(f.jsx)(m.b,{to:"info/".concat(e.id),children:Object(f.jsx)("img",{className:_.a.img,src:t,alt:""})}),Object(f.jsxs)("div",{className:_.a.inner,children:[Object(f.jsxs)("div",{className:_.a.header,children:[Object(f.jsx)(m.b,{className:_.a.linkTo,to:"/info/".concat(e.id),children:Object(f.jsx)("h3",{className:_.a.title,children:e.l})}),Object(f.jsx)("div",{className:_.a.rating,children:Object(f.jsxs)("p",{children:["IMDb ",e.rating||"?"]})})]}),Object(f.jsxs)("div",{className:_.a.info,children:[Object(f.jsx)("p",{children:e.q||"?"}),Object(f.jsx)("p",{children:"|"}),Object(f.jsx)("p",{children:e.genre||"?"}),Object(f.jsx)("p",{children:"|"}),Object(f.jsx)("p",{children:e.y||"?"})]}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:_.a.globe,children:e.otherRating?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("p",{children:[e.otherRating.label," #",e.otherRating.rank]}),Object(f.jsx)("p",{children:"|"}),Object(f.jsxs)("p",{children:["Won ",e.globes," Golden Globes."]})]}):""}),Object(f.jsx)("div",{className:_.a.awards,children:Object(f.jsxs)("p",{children:["Another ",e.wins," wins & ",e.loses," nominations"]})})]})]})},x=n(78),v=n(76),w=n(77),N=n(79);n(72),n(73);x.a.use([v.a]);var I=Object(j.g)((function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),h=Object(o.a)(i,2),b=h[0],u=h[1],m=Object(a.useState)([]),g=Object(o.a)(m,2),_=g[0],x=g[1],v=Object(a.useState)(!1),I=Object(o.a)(v,2),S=I[0],y=I[1],k=Object(a.useState)(!1),R=Object(o.a)(k,2),F=R[0],T=R[1],W=Object(j.f)();Object(a.useEffect)((function(){e.match.params.name&&(u(e.match.params.name),W.push("/"))}),[]);var q;return q=_.map((function(e){return Object(f.jsx)(w.a,{children:Object(f.jsx)(O,Object(s.a)({},e))})})),Object(f.jsxs)("div",{className:"".concat(d.a.wrapper," ").concat(r?d.a.progress:""),children:[Object(f.jsx)("h1",{className:"".concat(d.a.title," ").concat(d.a.first),children:"Unlimited movies,"}),Object(f.jsx)("h1",{className:d.a.title,children:"TV shows, and more."}),Object(f.jsx)("h2",{className:d.a.info,children:"Watch anywhere. Cancel anytime."}),Object(f.jsxs)("div",{className:d.a.inputWrapper,children:[Object(f.jsx)("input",{placeholder:"Type here smth...",className:"".concat(d.a.input," ").concat(r?d.a.progress:""),type:"text",onChange:function(e){u(e.target.value)},value:b}),Object(f.jsx)("button",{className:"".concat(d.a.btn," ").concat(r?d.a.progress:""),onClick:function(e){e&&e.preventDefault(),b?(y(!1),c(!0),p.getFilmsByName(b).then((function(e){if(void 0!==e.d){T(!1);var t=e.d[0];if("tt"===t.id.slice(0,2))p.getOverviewDetails(t.id).then((function(n){if(n.ratings.otherRanks){var a=n.ratings.otherRanks[0];t.otherRating={label:a.label,rank:a.rank}}n.genres?t.genre=n.genres[0]:t.genre="?",t.rating=n.ratings.rating,p.getRatings(t.id).then((function(n){var a=0,r=0,i=0,s=n.resource.awards;s&&s.forEach((function(e){e.isWinner?"Golden Globe"===e.awardName?i++:a++:r++})),t.globes=i,t.wins=a,t.loses=r,x(e.d),c(!1)}))}));else{var n=e.d.filter((function(e){return"tt"===e.id.slice(0,2)}));x(n),c(!1)}}else T(!0),c(!1)}))):y(!0)},children:"Search"})]}),S?Object(f.jsx)("p",{className:d.a.error,children:"You cannot send an empty string"}):"",F?Object(f.jsx)("p",{className:d.a.error,children:"Nothing found"}):"",Object(f.jsx)("div",{className:d.a.swiper,children:Object(f.jsx)(N.a,{pagination:{clickable:!0},spaceBetween:10,slidesPerView:1,onSlideChange:function(e){c(!0);var t=_[e.activeIndex];p.getOverviewDetails(t.id).then((function(n){var a=Object(l.a)(_);if(n.ratings.otherRanks){var r=n.ratings.otherRanks[0];a[e.activeIndex].otherRating={label:r.label,rank:r.rank}}n.genres?a[e.activeIndex].genre=n.genres[0]:a[e.activeIndex].genre="?",a[e.activeIndex].rating=n.ratings.rating,p.getRatings(t.id).then((function(t){var n=0,r=0,i=0,s=t.resource.awards;s&&s.forEach((function(e){e.isWinner?"Golden Globe"===e.awardName?i++:n++:r++})),a[e.activeIndex].globes=i,a[e.activeIndex].wins=n,a[e.activeIndex].loses=r,x(a),c(!1)}))}))},children:q})}),Object(f.jsx)("iframe",{className:d.a.video,width:"100%",height:"100%",src:"https://www.youtube.com/embed/gA0nQyDZR4A?start=20&controls=0&showinfo=0&rel=0&autoplay=1&loop=1&mute=1&disablekb=1",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})})),S=n(8),y=n.n(S),k=n.p+"static/media/search.34ef3c35.svg",R=n(17),F=n.n(R),T=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)();return Object(f.jsx)(m.b,{to:"/info/".concat(e.id.slice(7,-1)),children:Object(f.jsxs)("div",{className:F.a.wrapper,onMouseEnter:function(e){t.current&&(t.current.classList.add(F.a.open),n.current.classList.add(F.a.active))},onMouseLeave:function(e){t.current&&(t.current.classList.remove(F.a.open),n.current.classList.remove(F.a.active))},children:[Object(f.jsx)("img",{src:e.title.image.url,alt:"",ref:t}),Object(f.jsxs)("div",{className:F.a.toggle,ref:n,children:[Object(f.jsx)("h2",{children:e.title.title}),Object(f.jsx)("p",{children:e.genres[0]}),Object(f.jsxs)("p",{children:[e.title.titleType," ",e.title.year]}),Object(f.jsx)("div",{className:F.a.rating,children:Object(f.jsxs)("p",{children:["IMDb ",e.ratings.rating||"?"]})})]})]})})},W=Object(j.g)((function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)({}),l=Object(o.a)(i,2),j=l[0],h=l[1],d=Object(a.useState)(!1),b=Object(o.a)(d,2),u=b[0],g=b[1],_=Object(a.useState)([]),O=Object(o.a)(_,2),x=O[0],v=O[1],w=Object(a.useState)(""),N=Object(o.a)(w,2),I=N[0],S=N[1];Object(a.useEffect)((function(){var t=e.match.params.id;g(!0),p.getOverviewDetails(t).then((function(e){var n={};if(e.ratings.otherRanks){var a=e.ratings.otherRanks[0];n.otherRating={label:a.label,rank:a.rank}}n.title=e.title.title,n.titleType=e.title.titleType,n.year=e.title.year,e.genres?n.genre=e.genres[0]:n.genre="?",n.rating=e.ratings.rating,p.getImages(t).then((function(e){c(e.images),p.getRatings(t).then((function(e){var a=0,r=0,c=0,i=e.resource.awards;i&&i.forEach((function(e){e.isWinner?"Golden Globe"===e.awardName?c++:a++:r++})),n.globes=c,n.wins=a,n.loses=r,console.log(t),p.getPlots(t).then((function(e){var a=0,r=-1,c=0;e.plots&&e.plots.forEach((function(e){e.text.length>a&&(a=e.text.length,r=c),c++})),e.plots[r]?n.plot=e.plots[r].text:n.plot="No description",p.getSimilar(t).then((function(e){var t=[],a=1;e.forEach((function(r){p.getOverviewDetails(r.slice(7,-1)).then((function(r){t.push(r),console.log(a,e.length),a===e.length&&(v(t),h(n),g(!1)),a++}))}))}))}))}))}))}))}),[e.match.params.id]);var R=x.map((function(e){return Object(f.jsx)(T,Object(s.a)({},e))}));return console.log(x),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:y.a.wrapper,children:[Object(f.jsxs)("div",{className:y.a.nav,children:[Object(f.jsx)(m.b,{to:"/",className:y.a.linkHome,children:Object(f.jsx)("h1",{children:"Richbee Shows"})}),Object(f.jsxs)("div",{className:y.a.input,children:[Object(f.jsx)("input",{placeholder:"Type here smth...",type:"text",onChange:function(e){S(e.target.value)}}),Object(f.jsx)(m.b,{to:"/home/".concat(I),children:Object(f.jsx)("img",{src:k,alt:"search"})})]})]}),u?Object(f.jsx)("div",{className:y.a.empty}):Object(f.jsxs)("div",{className:y.a.info,children:[Object(f.jsxs)("div",{className:y.a.inner,children:[Object(f.jsx)("h1",{children:j.title}),Object(f.jsxs)("div",{className:y.a.smallInfo,children:[Object(f.jsx)("div",{className:y.a.rating,children:Object(f.jsxs)("p",{children:["IMDb ",j.rating||"?"]})}),Object(f.jsx)("p",{children:j.genre}),Object(f.jsx)("p",{children:"|"}),Object(f.jsx)("p",{children:j.titleType}),Object(f.jsx)("p",{children:"|"}),Object(f.jsx)("p",{children:j.year})]}),Object(f.jsx)("a",{className:y.a.watchBtn,href:"#",onClick:function(){return alert("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u044f \u043d\u0435 \u0441\u043c\u043e\u0433 \u043d\u0430\u0439\u0442\u0438 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0442\u0440\u0435\u0439\u043b\u0435\u0440 \u0438\u0437 \u0438\u0445 \u0430\u043f\u0438\u0448\u043a\u0438 \ud83d\ude14")},children:"Watch"}),Object(f.jsxs)("div",{className:y.a.awards,children:[Object(f.jsxs)("p",{children:[j.otherRating?j.otherRating.label:"","#",j.otherRating?j.otherRating.rank:""]}),Object(f.jsx)("p",{children:"|"}),Object(f.jsxs)("p",{children:["Won ",j.globes," Golden Globes"]})]}),Object(f.jsxs)("p",{className:y.a.lastP,children:["Another ",j.wins," wins & ",j.loses," nominations"]})]}),Object(f.jsx)("img",{className:y.a.bgImg,src:r[0]?r[0].url:"",alt:""}),Object(f.jsx)("div",{className:y.a.shadow})]})]}),Object(f.jsx)("div",{className:y.a.tail,children:Object(f.jsxs)("div",{className:y.a.content,children:[Object(f.jsxs)("h1",{children:["Watch ",j.title," on Richbee Shows"]}),Object(f.jsx)("p",{children:j.plot}),Object(f.jsx)("h2",{children:"You may also like"}),Object(f.jsx)("div",{className:y.a.similar,children:R})]})}),Object(f.jsx)("div",{className:y.a.footer,children:Object(f.jsx)("h3",{children:"Richbee Shows"})})]})}));var q=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(j.c,{children:[Object(f.jsx)(j.a,{path:"/home/:name",component:I}),Object(f.jsx)(j.a,{path:"/info/:id",component:W}),Object(f.jsx)(j.a,{exact:!0,path:"/",component:I})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(m.a,{basename:"/richbee-shows",children:Object(f.jsx)(q,{})})}),document.getElementById("root")),E()},8:function(e,t,n){e.exports={wrapper:"Info_wrapper__2ebEr",linkHome:"Info_linkHome__3FsO2",nav:"Info_nav__2actj",input:"Info_input__qYfKm",bgImg:"Info_bgImg__2PP7q",shadow:"Info_shadow__1TysQ",info:"Info_info__32qsa",empty:"Info_empty__2kOOK",inner:"Info_inner__2wIzj",smallInfo:"Info_smallInfo__18732",rating:"Info_rating__34IFW",watchBtn:"Info_watchBtn__2mOTJ",awards:"Info_awards__YOVQX",lastP:"Info_lastP__2H_vO",tail:"Info_tail__4MTn0",content:"Info_content__1u0aU",similar:"Info_similar__k8Sru",footer:"Info_footer__3IMll"}},9:function(e,t,n){e.exports={wrapper:"Search_wrapper__2fjP3",progress:"Search_progress__pyDMJ",title:"Search_title__3XjIz",first:"Search_first__2mlsp",video:"Search_video__2x_gO",info:"Search_info__qO0XI",inputWrapper:"Search_inputWrapper__2j8Mj",input:"Search_input__K2AWf",btn:"Search_btn__3YWzp",swiper:"Search_swiper__3_w0d",arrL:"Search_arrL__1jRiy",arrR:"Search_arrR__2Wv6Q",error:"Search_error__32p8q"}}},[[74,1,2]]]);
//# sourceMappingURL=main.30babd97.chunk.js.map